<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Windows Remote Audio Controller</title>
</head>
<style>
*,::after,::before{box-sizing:border-box}:root{-moz-tab-size:4;tab-size:4}html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0;font-family:system-ui,-apple-system,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji'}button{font-family:inherit;font-size:100%;line-height:1.15;margin:0;text-transform:none;-webkit-appearance:button}::-moz-focus-inner{border-style:none;padding:0}:-moz-focusring{outline:1px dotted ButtonText}button{background-color:transparent;background-image:none}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}ul{list-style:none;margin:0;padding:0}html{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}body{font-family:inherit;line-height:inherit}*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}img{border-style:solid}button{cursor:pointer}button{padding:0;line-height:inherit;color:inherit}img{display:block;vertical-align:middle}img{max-width:100%;height:auto}.bg-gray-300{--tw-bg-opacity:1;background-color:rgba(209,213,219,var(--tw-bg-opacity))}.bg-indigo-600{--tw-bg-opacity:1;background-color:rgba(79,70,229,var(--tw-bg-opacity))}.rounded-md{border-radius:.375rem}.block{display:block}.flex{display:flex}.hidden{display:none}.items-center{align-items:center}.justify-between{justify-content:space-between}.m-2{margin:.5rem}.m-auto{margin:auto}.mt-8{margin-top:2rem}.max-w-screen-md{max-width:768px}.py-2{padding-top:.5rem;padding-bottom:.5rem}.px-4{padding-left:1rem;padding-right:1rem}*{--tw-shadow:0 0 #0000;--tw-ring-inset:var(--tw-empty,);--tw-ring-offset-width:0;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000}.text-white{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.w-full{width:100%}
</style>
<body>
  <ul id="app" class="w-full m-auto mt-8 max-w-screen-md"></ul>
  <script>
const e=document.getElementById("app");function t(t){const i=t.id.replace(/^[^a-z]+|[^\w:.-]+/gi,""),d=document.querySelector(`#${i} button`);if(d){d.classList.toggle("bg-indigo-600",t.is_default),d.classList.toggle("text-white",t.is_default),d.classList.toggle("bg-gray-300",!t.is_default);return void document.querySelector(`#${i} button img`).classList.toggle("hidden",!t.is_default)}const n=document.createElement("li");n.className="block m-2",n.id=i;const c=document.createElement("button");c.className="flex w-full py-2 px-4 rounded-md items-center justify-between",c.addEventListener("click",()=>async function(t){await fetch("/api/audio_devices/"+encodeURI(t),{method:"PATCH",body:JSON.stringify({is_default:!0}),headers:{"Content-Type":"application/json"}}),await a(e)}(t.id));const s=document.createElement("img");s.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBjbGFzcz0iZmVhdGhlciBmZWF0aGVyLWNoZWNrIj48cG9seWxpbmUgcG9pbnRzPSIyMCA2IDkgMTcgNCAxMiI+PC9wb2x5bGluZT48L3N2Zz4=";const o=document.createElement("span");return o.className="truncate",o.appendChild(document.createTextNode(t.name)),c.appendChild(o),c.appendChild(s),t.is_default?(c.classList.add("bg-indigo-600"),c.classList.add("text-white")):(c.classList.add("bg-gray-300"),s.classList.add("hidden")),n.appendChild(c),n}async function a(e){const a=await async function(){const e=await fetch("/api/audio_devices");return await e.json()}(),i=document.createDocumentFragment();a.items.map(t).forEach(e=>e&&i.appendChild(e)),e.appendChild(i)}a(e),setInterval(()=>{a(e)},4e3)
  </script>
</body>
</html>